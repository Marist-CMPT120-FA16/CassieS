<!DOCTYPE html>
<html>
   <head>
      <title>
         Welcome to Horror Land
      </title>
	  <link type = "text/css" rel = "stylesheet" href = "project6.css">
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

	  <script type="text/javascript">
		var currentLoc = 0;
		var x=0;
//Location prototype	
function Location(locId, locDesc){
	this.id = locId;
	this.desc = locDesc;}
	//Location objects 
loc0 = new Location (0,"Haunted Mansion: Like a demented Disney castle, the centerpiece entrance of the park is the Haunted Mansion. Modeled after the Winchester Mystery House, it's supposedly filled with weird rooms, dead ends, and strange entertainments. Hopefully, everyone has gone home...Do you look around?");
loc1 = new Location (1,"Wicked Waters: A water park. Simple enough. But why is the water so cloudy? And how would anyone survive that drop??");
loc2 = new Location (2,"Death by Coaster: Sneaking quietly along the walkway, the monstrous roller coaster comes into view. Already voted 'Most terrifying ride in the world', the ride twists and turns through the night sky like a snake. 'Death by Coaster.' That HAS to be an exaggeration...right?");
loc3 = new Location (3,"Circus of Horrors: A large red and white striped, tent-like building. 'Circus of Horrors.' Oh God. This is the LAST place you wanted to be. Coulrophobia is NOT for the faint of heart. Does that say 'Side Show', too??");
loc4 = new Location (4,"Creepy Confections: This place doesn't look that bad. Yeah, it says 'Creepy Confections,' but how bad can a few shops & restaurants be?");
loc5 = new Location (5,"Insect Infestation: The Insect Infestation attraction is part zoo/part 'hands on experience' that is quote 'intended to education as well as terrify' unquote. You did NOT want to know what they meant by that.");
loc6 = new Location (6,"Children's Dreams: A playground. Of sorts. The rides are like traditional kids rides, but....off.");
loc7 = new Location (7,"Severed Stadium: It says 'stadium' but it looks more like the Roman Colliseum. How bizarre! Then you remember some of the 'attractions' the Colliseum used to present...");
loc8 = new Location (8,"Creatures from the Deep: An insanely large aquarium, this attraction, too, has made headlines. But, honestly, a shark is a shark, right?");
loc9 = new Location (9,"Zombie Zoo: Part zoo, part drive-thru safari, all terrifying. Even now you can hear the sounds of animals. Sounds you don't recognize. But Sam LOVED animals, so you have to look here. As you approach the hideous gate, made to look like a way too realistic alligator gone undead, you notice a key card wedged between two of the teeth. For a cement 'gate', those teeth look awfully sharp...");
//Location array
var locArr = [
/*0 Mansion*/loc0.desc,
/*1 Waters*/loc1.desc,
/*2 Coaster*/loc2.desc,
/*3 Circus*/loc3.desc,
/*4 Confections*/loc4.desc, 
/*5 Insect*/loc5.desc,
/*6 Children's*/loc6.desc,
/*7 Stadium*/loc7.desc,
/*8 Aquarium*/loc8.desc,
/*9 Zoo*/loc9.desc,
]
//Navigation variables
		var NORTH = 0;
		var SOUTH = 1;	 
		var EAST  = 2;
		var WEST  = 3;
//Navigation locations
		var nav = [ // N,S,E,W,
             /*Current Location*/ 
			 /*0 Entrance*/ [4,-1,2,1],
             /*1 Mansion*/ [3,-1,0,-1],
			 /*2 Coaster*/ [5,-1,-1,0],
			 /*3 Circus*/ [6,1,4,-1],
			 /*4 Concessions*/ [7,0,5,3],
			 /*5 Insect*/ [8,2,-1,4],
			 /*6 Children's*/ [9,3,7,-1],
			 /*7 Stadium*/ [9,4,8,6],
			 /*8 Aquarium*/ [9,5,-1,7],
			 /*9 Zoo*/ [-1,6,-1,-1]
			 ];        
// Directional Button Event Handlers
		function btnEast_click() {nextLoc(EAST);}
		function btnWest_click() {nextLoc(WEST);}
		function btnNorth_click() {nextLoc(NORTH);}
		function btnSouth_click() {nextLoc(SOUTH);}
		function nextLoc(dir) {
			var newLoc = nav[currentLoc][dir];
			currentLoc=newLoc;
			displayMessage(locArr[newLoc]);
			buttonDisable();			
			displayMessage(itemDesc[currentLoc]);
			}
//Items Objects
function Item(itemId,itemDesc){
	this.id = itemId;
	this.desc = itemDesc;}
//Individual Items
key = new Item ("a key","As you start to head towards the mouth, um, gate?, of the zoo, you step on something hard. It's a key. The handle is shaped like a femur.");
rope = new Item ("a rope","To the left, a loose length of rope dangles from one of the bleachers.");
card = new Item ("an ID card","You walk by the bushes towards the door. Something glintss in the moonlight. It's an ID card!!!");
notebook = new Item ("Sam's notebook","What's that? You see the corner of something sticking out of the corner near the shark tank. It's a notebook. It's SAM'S notebook!!");
//Location Item Array
var itemDesc = [
/*0 Mansion*/"",
/*1 Waters*/"",
/*2 Coaster*/card.desc,
/*3 Circus*/rope.desc,
/*4 Confections*/"", 
/*5 Insect*/"",
/*6 Children's*/"",
/*7 Stadium*/"",
/*8 Aquarium*/notebook.desc,
/*9 Zoo*/key.desc,
]

var itemArr =[
/*0 Mansion*/"",
/*1 Waters*/"",
/*2 Coaster*/card.id,
/*3 Circus*/rope.id,
/*4 Confections*/"", 
/*5 Insect*/"",
/*6 Children's*/,
/*7 Stadium*/0,
/*8 Aquarium*/notebook.id,
/*9 Zoo*/key.id,
]
//Bag of Holding
var itemBag=["a backpack","a flashlight"]
function btnInventory(){
	var bagContents = itemBag.toString();
	var bagPrint = "You've brought or found: " + bagContents;
    displayMessage(bagPrint);
}
//take button
function btnTake(){
	var itemLoc = itemArr[currentLoc];
	var item=itemArr.splice(currentLoc,1);
	var itemRemove=itemDesc.splice(currentLoc,1);
	var itemReplace=itemDesc.splice(currentLoc,1,"");
	var youTook = "You've pick up the " + item + " and put it in your backpack."
	displayMessage(youTook);
	itemBag.push(item);
	}
// Utility Function(s)
		function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n" + target.value;
         }
//Onload function
	function init(){
	buttonDisable();
	displayMessage("A new amusement park, Horrorland, has come to your town. The advertisements describe it as a 'gory, terror-filled fright fest'. Everyone you know has received a free, late-night, 'Exclusive Preview' invitation prior to the grand opening. All your friends can't wait!!! Secretly, though, the place SERIOUSLY creeps you out. You find some excuse to not go, and you wind up being pretty much the only one. The next day, people are raving about how scary/fun it is. You HAVE to go they say. However, in the days afterward, your best friend Sam has gone missing. Everyone has a theory, but only YOU KNOW it was that place. It's up to you to investigate, so, tonight, you're going to find Sam. Click North to jump the fence & enter the park.");} 
//Disables buttons that are not applicable based on current location
		function buttonDisable(){
		switch (currentLoc){
		//South off
		case 0: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = false; 
				document.getElementById("btnW").disabled = false;			
			break;
		//South West off
		case 1: document.getElementById("btnN").disabled = false; 
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = true;	
			break;
		//South East off
		case 2: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = false;	
			break;
		//East off
		case 8:
		case 5: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = false;
			break;
		//West off
		case 6:
		case 3: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = true;	
			break;
		//East West North off
		case 9: document.getElementById("btnN").disabled = true;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = true;
			break;
		default: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = false;
				}
}
/*
function helpMe(){
var help = "Click an active direction to move or enter a compass direction into the text box below and click GO. To pick up an item, click the TAKE button or enter Take into the text box below and click GO. Any questions or problems with the game, click the CONTACT link."
displayMessage(help);
}*/
	</script>
	</head>
   <body onload="init();">
		<!--Display title of game on game page-->
		<h1>Welcome to Horror Land!</h1>


<div>
		<textarea id="taMain" rows="15" cols="100"></textarea><br>
		<input type="button" id="btnW" value="West" onclick="btnWest_click();">
		<input type="button" id="btnE" value="East" onclick="btnEast_click();">
		<input type="button" id="btnN" value="North" onclick="btnNorth_click();">
		<input type="button" id="btnS" value="South" onclick="btnSouth_click();">
		<input type="button" id="take" value="Take" onclick="btnTake();">
		<input type="button" id="bag" value="Item inventory" onclick="btnInventory();">
</div>
<div> 					<!--help display-->
    <input type="button" class = "button" value="Help"  onclick="helpMe();"/>
<!--Put a mailto: link on the game page -->
		<p>For more information, contact me at <a href = "mailto:craychap@gmail.com">craychap@gmail.com</a></p>
</div> 					<!--help display-->
	</body>
</html>