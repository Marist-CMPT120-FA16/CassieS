<!DOCTYPE html>

<html>

	<head>
		<meta charset = "utf-8">
		<title>Welcome to Fright Park</title>
		<!--This is the title of my game-->
		<!--Cassie Schaaf-->
		<!--Intro Programming 10.3.2016-->
		<!--Game v1.0 with title, email, locations, text change, event handlers, & score-->
		<!--PSUEDO CODE/ASSIGNMENT: 
		1. Display title
		2. Add email link
		3. Add & script 4 directional buttons (NSEW)
			a. with "message" variable
			b. onClick - buttons change text
		4. Show intro text 
		5. Score counter goes up by five ONCE
		-->

		<style type="text/css">
			/*format textarea box*/
			textarea { 
				display: block;
				border:0;
				margin-left: auto;
				margin-right: auto;
				}
				
			/*format appearance of buttons*/
			.button {
				background-color: #ff3030;
				border-width:3px;
				border-radius:5px;
				border-color:#b22222;
				color: white;
				text-decoration: none;
				display: inline-block;
				font-size: 16px;
				text-align:center;
				}
				
			#wrapper {
				max-width: 900px;
				margin: 0 auto;
				}

			/*center buttons location*/
			#btns {
				text-align: center;
				margin: auto;
				}
		</style>
		
		<script type="text/javascript">
		//Redletter Kevin MacLeod (incompetech.com) Licensed under Creative Commons: By Attribution 3.0 License http://creativecommons.org/licenses/by/3.0/
		function musicOff(){
		document.getElementById('background_audio').muted = true;
		}
		var audio = document.getElementById('background_audio');

document.getElementById('mute').addEventListener('click', function (e)
{
    e = e || window.event;
    audio.muted = !audio.muted;
    e.preventDefault();
		
		//Class script
		    //
         // Global Variables
         //         
         var currentLoc = 0;
         var score = 0;
         var navigationErrorCount = 0;
         var sarcasmThreshold = 5;
         
         var hasVisitedLoc0 = false;
         var hasVisitedLoc1 = false;
         var hasVisitedLoc2 = false;
         var hasVisitedLoc3 = false;
         var hasVisitedLoc4 = false;
                  
         //
         // Initialization
         //
         function init() {
            look();
         }

         //
         // Directional Button Event Handlers
         //         
         function btnNorth_click() {
            if (currentLoc === 0) {
               currentLoc = 1;
               look();               
            } else {
              if (currentLoc === 3) {
                 currentLoc = 0;
                 look();            
              } else {
                 navigationError(); 
              }
            }            
         }

         function btnSouth_click() {
            if (currentLoc === 1) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 3;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }

         function btnEast_click() {
            if (currentLoc === 4) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 2;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }

         function btnWest_click() {
            if (currentLoc === 2) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 4;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }
                  
         //
         // Story / Locale Functions
         //
         function look() {
            var desc = "";
            switch(currentLoc) {
               case 0: desc = "You head north. You wind up at 'Death by Coaster', already voted most terrifying coaster in the world.";
                       break;
               case 1: desc = "You head south and wind up at the 'Creepy Concession' stand.";
                       break; 
               case 2: desc = "You can't go west. You came in that way. Try another direction.";
                       break;
               case 3: desc = "Going east brings you to the 'Haunted Maze'. You REALLY don't want to go in there.";
                       break;
               case 4: desc = "4. (knock, knock knock) Penny!";
                       break;
               default: desc = "You cannot go that way";
            }
            checkScore();
            desc = desc + "\n" + "Score: " + score ;
            displayMessage(desc);
         }

         function navigationError() {
            navigationErrorCount = navigationErrorCount + 1;
            if (navigationErrorCount < sarcasmThreshold) {
               displayMessage("You cannot go that way.");
            } else {
               displayMessage("DUH! WTF?");
            }            
         }

         function checkScore() {
            if (! hasVisitedLoc0) {            
               if (currentLoc === 0) {
                  score = score + 5;
                  hasVisitedLoc0 = true;
               }
            } else if ( (! hasVisitedLoc1) && (currentLoc === 1) ) {            
                  score = score + 5;
                  hasVisitedLoc1 = true;
            } else if ( (! hasVisitedLoc2) && (currentLoc === 2) ) {            
                  score = score + 5;
                  hasVisitedLoc2 = true;
            } else if ( (! hasVisitedLoc3) && (currentLoc === 3) ) {            
                  score = score + 5;
                  hasVisitedLoc3 = true;
            } else if ( (! hasVisitedLoc4) && (currentLoc === 4) ) {            
                  score = score + 5;
                  hasVisitedLoc4 = true;
            }            
         }

         //
         // Utility Function(s)
         //
         function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n" + target.value;
         }
		//DUD SCRIPT******************************************************************
		//This script defines the north directional button.
         function btnNorth_click() {
			document.getElementById("taMain").value = "You head north. You wind up at 'Death by Coaster', already voted most terrifying coaster in the world.";
            // Message assigned variable named, well, "message". (Smart, right??)
            var message = "You head north. You wind up at 'Death by Coaster', already voted most terrifying coaster in the world.";
            // Text area in the DOM is assigned variable named "targetTextArea".
            var targetTextArea = document.getElementById("taMain");
            // The message is assigned to the text of the DOM's text area.
            targetTextArea.value = message;
			//Assigns 5 points to the player.
			//I realize this isn't a great solution, as it's not expandable. Will continue working on function.
			document.getElementById("scoreSpot").innerHTML="Score: 5 points";
         }         
         
		 //This script defines the south directional button.
         function btnSouth_click() {
			document.getElementById("taMain").value = "You head south and wind up at the 'Creepy Concession' stand.";
            var message = "You head south and wind up at the 'Creepy Concession' stand.";
            var targetTextArea = document.getElementById("taMain");
            targetTextArea.value = message;
			document.getElementById("scoreSpot").innerHTML="Score: 5 points";
         }         
		 
		 //This script defines the west directional button.
         function btnWest_click() {
			document.getElementById("taMain").value = "You can't go west. You came in that way. Try another direction.";
            var message = "You can't go west. You came in that way. Try another direction.";
            var targetTextArea = document.getElementById("taMain");
            targetTextArea.value = message;
			document.getElementById("scoreSpot").innerHTML="Score: 5 points";
         }         
		 //This script defines the east directional button.
         function btnEast_click() {
			document.getElementById("taMain").value = "Going east brings you to the 'Haunted Maze'. You REALLY don't want to go in there.";
            var message = "Going east brings you to the 'Haunted Maze'. You REALLY don't want to go in there.";
            var targetTextArea = document.getElementById("taMain");
            targetTextArea.value = message;
			document.getElementById("scoreSpot").innerHTML="Score: 5 points";
         }         
	</script>
	</head>
	
	<body onload="init();">
	 <audio id="background_audio" autoplay="autoplay">
      <source src="static/audio/clip.ogg" type="audio/ogg" />
      <source src="static/audio/clip.mp3" type="audio/mpeg" />
    </audio> 
	<div id = "wrapper">
		<h1>Welcome to Fright Park!</h1>
		<p>For more information, contact me at <a href = "mailto:craychap@gmail.com">craychap@gmail.com </a></p>
		    
 		<textarea rows="15"
                cols="100"
                id = "taMain"
                name="taMain">
A new amusement park, Fright Park, has come to your town. The advertisements describe it as a 'gory, terror-filled fright fest'. Everyone you know has received a free, late-night, "Exclusive Preview" invitation prior to the grand opening. All your friends can't wait!!! Secretly, though, the place SERIOUSLY creeps you out. You find some excuse to not go, and you wind up being pretty much the only one. The next day, people are raving about how scary/fun it is. You "HAVE to go" they say. 

However, in the days afterward, your best friend Sam has gone missing. Everyone has a theory, but only YOU KNOW it was that place. It's up to you to investigate, so, tonight, you've jumped the fence of the park. The full, low moon lights your way. 

Which direction do you think you should go first?
        </textarea>
		
 <div id="btns">
	    <input type="button"
			class = "button"
            id = "btnN"
            name="btnN"
            value="North" 
            onclick="btnNorth_click();" />
			 </br>
       
	   <input type="button"
			class = "button"
            id = "btnW"
            name="btnW"
            value="West" 
            onclick="btnWest_click();" />
        
	   <input type="button"
			class = "button"
            id = "btnE"
            name="btnE"
            value="East" 
            onclick="btnEast_click();" />
			
			 	</br>		 
       <input type= "button"
			class = "button"
            id = "btnS"
            name="btnS"
            value="South" 
            onclick="btnSouth_click();" />

			 
</div> <!--btns-->
<div>
		<input type= "button"
		class = "button"
		id="off"
		name="off"
		value="&#9834; on/off
		<audio id="background_audio" autoplay="autoplay">
  <source src="http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a" />
</audio> 

<a href="#noscroll"
</div>
<div class="scorebox">
	<p id="scoreSpot"></p>
</div> <!-- wrapper-->
	</body>

</html>
