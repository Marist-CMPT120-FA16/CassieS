<!DOCTYPE html>
<html>
   <head>
      <title>
         Skimpy program
      </title>
	 
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	  <script type="text/javascript">
		var currentLoc = 0;
		var x;
		 //Location prototype	
function Location(locId, locDesc){
	this.id = locId;
	this.desc = locDesc;}
	
//Location objects 
loc0 = new Location (0, "home");
loc1 = new Location (1, "insect");
loc2 = new Location (2, "circus");
loc3 = new Location (3, "town");
loc4 = new Location (4, "zoo");
loc5 = new Location (5, "aquarium");
loc6 = new Location (6, "children");
loc7 = new Location (7, "coaster");
loc8 = new Location (8, "concessions");
loc9 = new Location (9, "stadium");
loc10 = new Location (10, "water");
loc11 = new Location (11, "mansion");

var locArr = [
/*0*/loc0.desc,
/*1*/loc1.desc,
/*2*/loc2.desc,
/*3*/loc3.desc,
/*4*/loc4.desc,
/*5*/loc5.desc,
/*6*/loc6.desc,
/*7*/loc7.desc,
/*8*/loc8.desc,
/*9*/loc9.desc,
/*10*/loc10.desc,
/*11*/loc11.desc,
]
		 var EAST  = 0;
         var WEST  = 1;
		 var NORTH = 2;
		 var SOUTH = 3;
         var nav = [ // E,W,N,S
             /*Current Location*/ 
			 /*0*/ [2,1,4,-1],
             /*1*/ [0,-1,3,-1],
			 /*2*/ [-1,0,5-1],
			 /*3*/ [4,-1,-1,1],
			 /*4*/ [5,3,-1,0],
			 /*5*/ [-1,4,-1,2],
			 /*6*/ 
			 /*7*/
			 /*8*/
			 /*9*/
			 /*10*/
			 /*11*/
			 ];        
	
          // Directional Button Event Handlers
         function btnEast_click() {nextLoc(EAST);}
         function btnWest_click() {nextLoc(WEST);}
		 function btnNorth_click() {nextLoc(NORTH);}
		 function btnSouth_click() {nextLoc(SOUTH);}

		function nextLoc(dir) {
			var newLoc = nav[currentLoc][dir];
			currentLoc=newLoc;
			displayMessage(locArr[newLoc]);}

	// Utility Function(s)
         function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n" + target.value;
         }
	function init(){
	buttonDisable();}	 
		 		//Disables buttons that are not applicable based on current location
		function buttonDisable(){
		switch (currentLoc){
		//South off
		case 0: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = false; 
				document.getElementById("btnW").disabled = false;			
			break;
		//South West off
		case 1: document.getElementById("btnN").disabled = false; 
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = true;	
			break;
		//West off
		case 2:
		case 3: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = true;	
			break;
		//South East off
		case 1001: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = false;	
			break;
		//North West off
		case 4: document.getElementById("btnN").disabled = true;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = true;
			break;
		//North off
		case 1004: document.getElementById("btnN").disabled = true;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = false;
			break;
		//East off
		case 2003:
		case 2002: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = false;
			break;
		//North East off
		case 2004: document.getElementById("btnN").disabled = true;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = false;
			break;
		//East West South off
		case 010000: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = true;
				document.getElementById("btnE").disabled = true;
				document.getElementById("btnW").disabled = true;
			break;
		default: document.getElementById("btnN").disabled = false;
				document.getElementById("btnS").disabled = false;
				document.getElementById("btnE").disabled = false;
				document.getElementById("btnW").disabled = false;
				}
}
	</script>
	</head>
   <body onload="init();">
		<textarea id="taMain" rows="10" cols="50"></textarea><br>
		<input type="button" id="btnW" value="West" onclick="btnWest_click();">
		<input type="button" id="btnE" value="East" onclick="btnEast_click();">
		<input type="button" id="btnN" value="North" onclick="btnNorth_click();">
		<input type="button" id="btnS" value="South" onclick="btnSouth_click();">
	</body>
</html>