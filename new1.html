<!DOCTYPE html>
<html>
   <head>
      <title>
         Alan's Game
      </title>
	 
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	  
      <script type="text/javascript">
	           var currentLoc = 0;
         
         var NORTH = 0;
         var SOUTH = 1;
         var EAST  = 2;
         var WEST  = 3;
         
         var nav = [ // N   S   E   W 
             /* 0 */ [  1,  3,  2,  4],
             /* 1 */ [ -1,  0, -1, -1],
             /* 2 */ [ -1, -1, -1,  0],
             /* 3 */ [  0, -1, -1, -1], 
             /* 4 */ [ -1, -1,  0, -1]
                   ];
         
         //
         // Initialization
         //
         function init() {
            look();
         }
         
         //
         // Directional Button Event Handlers
         //
         function btnNorth_click() {
            nextLoc(NORTH);
            look();
         }

         function btnSouth_click() {
            nextLoc(SOUTH);
            look();
         }

         function btnEast_click() {
            nextLoc(EAST);
            look();
         }

         function btnWest_click() {
            nextLoc(WEST);            
            look();
         }
                  
         function nextLoc(dir) {
            var newLoc = nav[currentLoc][dir];
            if (newLoc >= 0) {
               currentLoc = newLoc;
            } else {
               displayMessage("You cannot go that way.");
            }            
         }

         //
         // Story / Locale Functions
         //
         function look() {
            var desc = "";
            switch(currentLoc) {
               case 0: desc = "0. You are in Sheldon's and Leonard's apartment.";
                       break;
               case 1: desc = "1. You are standing by the stairs";
                       break; 
               case 2: desc = "2. Welcome to the Cheesecake Factory. Please wait to be seated.";
                       break;
               case 3: desc = "3. Say hi to Stuart at his (not burned) Comic book store.";
                       break;
               case 4: desc = "4. (knock, knock knock) Penny!";
                       break;
               default: desc = "You cannot go that way";
            }
            displayMessage(desc);
         }

         //
         // Utility Function(s)
         //
         function displayMessage(msg) {
            var target = document.getElementById("taMain");
            target.value = msg + "\n\n" + target.value;
         }
	  </script>
	</head>
   <body onload="init();">
       <textarea id="taMain" rows="8" cols="32"></textarea>
       
       <br>
       Command:       
       <input type="text" 
              id = "txtCommand"
              name="txtCommand">

       <input type="button"
              value="Go" 
              onclick="btnGo_click();" />                           
       
       <br>
       <input type="button" 
              value="North"
              onclick="btnNorth_click();">
       <input type="button" 
              value="South"
              onclick="btnSouth_click();">
       <input type="button" 
              value="East"
              onclick="btnEast_click();">
       <input type="button" 
              value="West"
              onclick="btnWest_click();">
              
	
	</body>
</html>